{% extends 'courses/base.html' %}

{% block title %}æ•™å¸«å„€è¡¨æ¿{% endblock %}

{% block content %}
<h1>ğŸ‘¨â€ğŸ« æ•™å¸«å„€è¡¨æ¿</h1>

<div class="row mb-4">
    <div class="col-md-6">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">æ•™å¸«ä¿¡æ¯</h5>
                <p><strong>ç·¨è™Ÿï¼š</strong> {{ teacher.teacher_id }}</p>
                <p><strong>å§“åï¼š</strong> {{ teacher.user.get_full_name }}</p>
                <p><strong>éƒ¨é–€ï¼š</strong> {{ teacher.department|default:"æœªè¨­å®š" }}</p>
            </div>
        </div>
    </div>
    <div class="col-md-6">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">çµ±è¨ˆ</h5>
                <p><strong>æˆèª²èª²ç¨‹ï¼š</strong> <span class="badge bg-primary">{{ courses.count }}</span></p>
                <a href="{% url 'courses:teacher_add_course' %}" class="btn btn-success btn-sm">
                    <i class="fas fa-plus"></i> æ–°å¢èª²ç¨‹
                </a>
            </div>
        </div>
    </div>
</div>

<h3>ğŸ“š æˆ‘çš„èª²ç¨‹</h3>

{% if courses %}
    <div class="row">
        {% for course in courses %}
            <div class="col-md-6 mb-4">
                <div class="card">
                    <div class="card-header">
                        <h5 class="card-title mb-0">{{ course.course_code }} - {{ course.course_name }}</h5>
                    </div>
                    <div class="card-body">
                        <p><strong>èª²ç¨‹ä»£ç¢¼ï¼š</strong> {{ course.course_code }}</p>
                        <p><strong>å­¸åˆ†ï¼š</strong> {{ course.credits }}</p>
                        <p><strong>é¸ä¿®äººæ•¸ï¼š</strong> <span class="badge bg-info">{{ course.get_current_enrollment_count }}/{{ course.max_students }}</span></p>
                        {% if course.description %}
                            <p><strong>æè¿°ï¼š</strong> {{ course.description|truncatewords:20 }}</p>
                        {% endif %}
                    </div>
                    <div class="card-footer">
                        <a href="{% url 'courses:teacher_course_students' course.id %}" class="btn btn-info btn-sm">
                            <i class="fas fa-users"></i> æŸ¥çœ‹å­¸ç”Ÿæˆç¸¾
                        </a>
                        <a href="{% url 'courses:course_detail' course.id %}" class="btn btn-secondary btn-sm">
                            <i class="fas fa-eye"></i> æŸ¥çœ‹èª²ç¨‹
                        </a>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
{% else %}
    <div class="alert alert-info">
        <i class="fas fa-info-circle"></i>
        ä½ é‚„æ²’æœ‰ä»»ä½•èª²ç¨‹ã€‚é»æ“Šä¸‹æ–¹æŒ‰éˆ•æ–°å¢èª²ç¨‹ã€‚
        <br><br>
        <a href="{% url 'courses:teacher_add_course' %}" class="btn btn-primary mt-2">æ–°å¢èª²ç¨‹</a>
    </div>
{% endif %}
{% endblock %}
